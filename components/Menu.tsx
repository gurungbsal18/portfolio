"use client";
import React, { useState } from "react";
import { Button } from "@heroui/button";
import { CgFileDocument } from "react-icons/cg";
import { ThemeSwitch } from "./theme-switch";
import Link from "next/link";
import { IoCloudDownloadOutline } from "react-icons/io5";
import { IoMdMenu } from "react-icons/io";
import { MdOutlineClose } from "react-icons/md";
import Image from "next/image";
import { motion } from "framer-motion";

export default function Menu() {
  const [menuOpen, setMenuOpen] = useState(false);

  const handleMenuOpen = () => {
    setMenuOpen(!menuOpen);
  };

  const svgVariants = {
    hidden: { opacity: 0 },
    visible: { opacity: 1, transition: { duration: 1 } },
  };

  const pathVariants = {
    hidden: {
      strokeDashoffset: 1000,
    },
    visible: {
      strokeDashoffset: 1,
      transition: {
        duration: 5,
        ease: "easeInOut",
      },
    },
  };

  return (
    <div className="sticky top-0 bg-white shadow-md z-10">
      <div className="container py-4 px-8 flex justify-between items-center w-full">
        {/* <Image src="/Logo.png" alt="bishal" height={150} width={150} /> */}

        <div>
          <motion.svg
            variants={svgVariants}
            initial="hidden"
            animate="visible"
            width="auto"
            height="55"
            viewBox="0 0 867 285"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="285" height="285" rx="142.5" fill="#FFBF29" />
            <motion.path
              d="M177.601 140.72C186.67 142.653 193.954 147.187 199.455 154.323C204.956 161.31 207.706 169.338 207.706 178.407C207.706 191.49 203.097 201.896 193.88 209.627C184.811 217.209 172.1 221 155.747 221H82.826V64.454H153.294C169.201 64.454 181.615 68.0963 190.535 75.381C199.604 82.6657 204.138 92.552 204.138 105.04C204.138 114.257 201.685 121.914 196.779 128.009C192.022 134.104 185.629 138.341 177.601 140.72ZM120.959 127.786H145.935C152.179 127.786 156.936 126.448 160.207 123.772C163.626 120.947 165.336 116.859 165.336 111.507C165.336 106.155 163.626 102.067 160.207 99.242C156.936 96.4173 152.179 95.005 145.935 95.005H120.959V127.786ZM149.057 190.226C155.45 190.226 160.356 188.814 163.775 185.989C167.343 183.016 169.127 178.779 169.127 173.278C169.127 167.777 167.269 163.466 163.552 160.344C159.984 157.222 155.004 155.661 148.611 155.661H120.959V190.226H149.057Z"
              // fill="#065192"
              stroke="#065192" // Use stroke instead of fill
              strokeWidth="8" // Define stroke thickness
              strokeDasharray="1000"
              variants={pathVariants}
            />
            <motion.path
              d="M225.078 151.572C222.078 151.572 219.611 150.706 217.678 148.972C215.811 147.172 214.878 144.972 214.878 142.372C214.878 139.706 215.811 137.506 217.678 135.772C219.611 133.972 222.078 133.072 225.078 133.072C228.011 133.072 230.411 133.972 232.278 135.772C234.211 137.506 235.178 139.706 235.178 142.372C235.178 144.972 234.211 147.172 232.278 148.972C230.411 150.706 228.011 151.572 225.078 151.572ZM233.578 157.372V213.172H216.478V157.372H233.578ZM268.27 213.972C263.403 213.972 259.07 213.139 255.27 211.472C251.47 209.806 248.47 207.539 246.27 204.672C244.07 201.739 242.837 198.472 242.57 194.872H259.47C259.67 196.806 260.57 198.372 262.17 199.572C263.77 200.772 265.737 201.372 268.07 201.372C270.203 201.372 271.837 200.972 272.97 200.172C274.17 199.306 274.77 198.206 274.77 196.872C274.77 195.272 273.937 194.106 272.27 193.372C270.603 192.572 267.903 191.706 264.17 190.772C260.17 189.839 256.837 188.872 254.17 187.872C251.503 186.806 249.203 185.172 247.27 182.972C245.337 180.706 244.37 177.672 244.37 173.872C244.37 170.672 245.237 167.772 246.97 165.172C248.77 162.506 251.37 160.406 254.77 158.872C258.237 157.339 262.337 156.572 267.07 156.572C274.07 156.572 279.57 158.306 283.57 161.772C287.637 165.239 289.97 169.839 290.57 175.572H274.77C274.503 173.639 273.637 172.106 272.17 170.972C270.77 169.839 268.903 169.272 266.57 169.272C264.57 169.272 263.037 169.672 261.97 170.472C260.903 171.206 260.37 172.239 260.37 173.572C260.37 175.172 261.203 176.372 262.87 177.172C264.603 177.972 267.27 178.772 270.87 179.572C275.003 180.639 278.37 181.706 280.97 182.772C283.57 183.772 285.837 185.439 287.77 187.772C289.77 190.039 290.803 193.106 290.87 196.972C290.87 200.239 289.937 203.172 288.07 205.772C286.27 208.306 283.637 210.306 280.17 211.772C276.77 213.239 272.803 213.972 268.27 213.972ZM335.232 156.772C341.632 156.772 346.765 158.906 350.632 163.172C354.498 167.372 356.432 173.172 356.432 180.572V213.172H339.432V182.872C339.432 179.139 338.465 176.239 336.532 174.172C334.598 172.106 331.998 171.072 328.732 171.072C325.465 171.072 322.865 172.106 320.932 174.172C318.998 176.239 318.032 179.139 318.032 182.872V213.172H300.932V139.172H318.032V164.872C319.765 162.406 322.132 160.439 325.132 158.972C328.132 157.506 331.498 156.772 335.232 156.772ZM364.515 185.172C364.515 179.439 365.581 174.406 367.715 170.072C369.915 165.739 372.881 162.406 376.615 160.072C380.348 157.739 384.515 156.572 389.115 156.572C393.048 156.572 396.481 157.372 399.415 158.972C402.415 160.572 404.715 162.672 406.315 165.272V157.372H423.415V213.172H406.315V205.272C404.648 207.872 402.315 209.972 399.315 211.572C396.381 213.172 392.948 213.972 389.015 213.972C384.481 213.972 380.348 212.806 376.615 210.472C372.881 208.072 369.915 204.706 367.715 200.372C365.581 195.972 364.515 190.906 364.515 185.172ZM406.315 185.272C406.315 181.006 405.115 177.639 402.715 175.172C400.381 172.706 397.515 171.472 394.115 171.472C390.715 171.472 387.815 172.706 385.415 175.172C383.081 177.572 381.915 180.906 381.915 185.172C381.915 189.439 383.081 192.839 385.415 195.372C387.815 197.839 390.715 199.072 394.115 199.072C397.515 199.072 400.381 197.839 402.715 195.372C405.115 192.906 406.315 189.539 406.315 185.272ZM452.486 139.172V213.172H435.386V139.172H452.486ZM531.869 165.172C530.603 162.839 528.769 161.072 526.369 159.872C524.036 158.606 521.269 157.972 518.069 157.972C512.536 157.972 508.103 159.806 504.769 163.472C501.436 167.072 499.769 171.906 499.769 177.972C499.769 184.439 501.503 189.506 504.969 193.172C508.503 196.772 513.336 198.572 519.469 198.572C523.669 198.572 527.203 197.506 530.069 195.372C533.003 193.239 535.136 190.172 536.469 186.172H514.769V173.572H551.969V189.472C550.703 193.739 548.536 197.706 545.469 201.372C542.469 205.039 538.636 208.006 533.969 210.272C529.303 212.539 524.036 213.672 518.169 213.672C511.236 213.672 505.036 212.172 499.569 209.172C494.169 206.106 489.936 201.872 486.869 196.472C483.869 191.072 482.369 184.906 482.369 177.972C482.369 171.039 483.869 164.872 486.869 159.472C489.936 154.006 494.169 149.772 499.569 146.772C504.969 143.706 511.136 142.172 518.069 142.172C526.469 142.172 533.536 144.206 539.269 148.272C545.069 152.339 548.903 157.972 550.769 165.172H531.869ZM616.141 157.372V213.172H599.041V205.572C597.308 208.039 594.941 210.039 591.941 211.572C589.008 213.039 585.741 213.772 582.141 213.772C577.874 213.772 574.108 212.839 570.841 210.972C567.574 209.039 565.041 206.272 563.241 202.672C561.441 199.072 560.541 194.839 560.541 189.972V157.372H577.541V187.672C577.541 191.406 578.508 194.306 580.441 196.372C582.374 198.439 584.974 199.472 588.241 199.472C591.574 199.472 594.208 198.439 596.141 196.372C598.074 194.306 599.041 191.406 599.041 187.672V157.372H616.141ZM645.124 166.672C647.124 163.606 649.624 161.206 652.624 159.472C655.624 157.672 658.957 156.772 662.624 156.772V174.872H657.924C653.657 174.872 650.457 175.806 648.324 177.672C646.191 179.472 645.124 182.672 645.124 187.272V213.172H628.024V157.372H645.124V166.672ZM725.497 157.372V213.172H708.397V205.572C706.664 208.039 704.297 210.039 701.297 211.572C698.364 213.039 695.097 213.772 691.497 213.772C687.231 213.772 683.464 212.839 680.197 210.972C676.931 209.039 674.397 206.272 672.597 202.672C670.797 199.072 669.897 194.839 669.897 189.972V157.372H686.897V187.672C686.897 191.406 687.864 194.306 689.797 196.372C691.731 198.439 694.331 199.472 697.597 199.472C700.931 199.472 703.564 198.439 705.497 196.372C707.431 194.306 708.397 191.406 708.397 187.672V157.372H725.497ZM771.38 156.772C777.914 156.772 783.114 158.906 786.98 163.172C790.914 167.372 792.88 173.172 792.88 180.572V213.172H775.88V182.872C775.88 179.139 774.914 176.239 772.98 174.172C771.047 172.106 768.447 171.072 765.18 171.072C761.914 171.072 759.314 172.106 757.38 174.172C755.447 176.239 754.48 179.139 754.48 182.872V213.172H737.38V157.372H754.48V164.772C756.214 162.306 758.547 160.372 761.48 158.972C764.414 157.506 767.714 156.772 771.38 156.772ZM825.563 156.572C829.496 156.572 832.93 157.372 835.863 158.972C838.863 160.572 841.163 162.672 842.763 165.272V157.372H859.863V213.072C859.863 218.206 858.83 222.839 856.763 226.972C854.763 231.172 851.663 234.506 847.463 236.972C843.33 239.439 838.163 240.672 831.963 240.672C823.696 240.672 816.996 238.706 811.863 234.772C806.73 230.906 803.796 225.639 803.063 218.972H819.963C820.496 221.106 821.763 222.772 823.763 223.972C825.763 225.239 828.23 225.872 831.163 225.872C834.696 225.872 837.496 224.839 839.563 222.772C841.696 220.772 842.763 217.539 842.763 213.072V205.172C841.096 207.772 838.796 209.906 835.863 211.572C832.93 213.172 829.496 213.972 825.563 213.972C820.963 213.972 816.796 212.806 813.063 210.472C809.33 208.072 806.363 204.706 804.163 200.372C802.03 195.972 800.963 190.906 800.963 185.172C800.963 179.439 802.03 174.406 804.163 170.072C806.363 165.739 809.33 162.406 813.063 160.072C816.796 157.739 820.963 156.572 825.563 156.572ZM842.763 185.272C842.763 181.006 841.563 177.639 839.163 175.172C836.83 172.706 833.963 171.472 830.563 171.472C827.163 171.472 824.263 172.706 821.863 175.172C819.53 177.572 818.363 180.906 818.363 185.172C818.363 189.439 819.53 192.839 821.863 195.372C824.263 197.839 827.163 199.072 830.563 199.072C833.963 199.072 836.83 197.839 839.163 195.372C841.563 192.906 842.763 189.539 842.763 185.272Z"
              // fill="#065192"
              stroke="#065192"
              strokeWidth="4"
              strokeDasharray="1000"
              variants={pathVariants}
            />
          </motion.svg>
        </div>
        <div className="hidden lg:flex gap-2">
          {/* <Button radius="sm" color="primary">
            <HiOutlineClipboardDocumentList size={24} /> Explore Projects
          </Button> */}
          <Link href={"/documents/Bishal-Gurung-CV.pdf"} target="_blank">
            <Button radius="sm" color="primary" className="flex items-center">
              <CgFileDocument size={24} /> View CV
            </Button>
          </Link>

          <ThemeSwitch />
        </div>

        {/* mobile menu */}
        <div className="lg:hidden flex items-center gap-2">
          {menuOpen ? (
            <MdOutlineClose
              size={32}
              onClick={handleMenuOpen}
              className="transform rotate-180 transition-transform duration-300 ease-in-out"
            />
          ) : (
            <IoMdMenu
              size={32}
              onClick={handleMenuOpen}
              className="transform rotate-0 transition-transform duration-300 ease-in-out"
            />
          )}

          {menuOpen && (
            <>
              <div
                className={`flex flex-col items-start gap-8 absolute bg-gray-400 p-16 top-16 left-0 w-full shadow-2xl transition-all duration-500 ease-in-out ${menuOpen ? "translate-y-0 opacity-100 visible" : "traslate-y-10 opacity-0 invisible"}`}
              >
                <Link
                  href={"/documents/Bishal-Gurung-CV.pdf"}
                  target="_blank"
                  className="w-full"
                >
                  <Button
                    radius="sm"
                    color="primary"
                    className="flex items-center w-full"
                  >
                    <CgFileDocument size={24} /> View CV
                  </Button>
                </Link>
              </div>
            </>
          )}
          <ThemeSwitch />
        </div>
      </div>
    </div>
  );
}
